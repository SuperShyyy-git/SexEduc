{% extends 'base.html' %}

{% block title %}Quizzes - Sex Education System{% endblock %}

{% block content %}
<div class="quizzes-page">
    <div class="container">
        <div class="page-header"
            style="display: flex; justify-content: space-between; align-items: center; gap: 1rem; flex-wrap: wrap;">
            <div style="text-align: left;">
                <h1 style="margin-bottom: 0.5rem;">Quizzes</h1>
                <p>Test your knowledge with our comprehensive quizzes</p>
            </div>
            {% if user.is_staff %}
            <div style="display: flex; gap: 0.75rem;">
                <a href="{% url 'quizzes:archive' %}" class="btn btn-outline">
                    ‚ôªÔ∏è Manage Archive
                </a>
                <a href="{% url 'quizzes:create' %}" class="btn btn-primary">
                    ‚ûï Create Quiz
                </a>
            </div>
            {% endif %}
        </div>

        <div class="card-grid">
            {% for quiz in quizzes %}
            <div class="card">
                <div class="card-body">
                    <h3 class="card-title">{{ quiz.title }}</h3>
                    <p class="card-text">{{ quiz.description|truncatewords:20 }}</p>
                    <div class="quiz-meta">
                        <span>üìù {{ quiz.question_count }} question{{ quiz.question_count|pluralize }}</span>
                        <span>‚è±Ô∏è {{ quiz.time_limit_minutes }} minutes</span>
                        <span>‚úÖ {{ quiz.passing_score }}% to pass</span>
                    </div>
                </div>
                <div class="card-footer" style="display: flex; gap: 0.5rem; justify-content: space-between;">
                    <a href="{% url 'quizzes:detail' quiz.id %}" class="btn btn-primary"
                        style="flex: 1; text-align: center;">View</a>
                    {% if user.is_staff %}
                    <a href="{% url 'quizzes:edit_quiz' quiz.id %}" class="btn btn-secondary" style="padding: 0.5rem;"
                        title="Edit">‚úèÔ∏è</a>
                    <a href="{% url 'quizzes:delete_quiz' quiz.id %}" class="btn btn-danger" style="padding: 0.5rem;"
                        title="Archive">üóëÔ∏è</a>
                    {% endif %}
                </div>
            </div>
            {% empty %}
            <p>No quizzes available at this time.</p>
            {% endfor %}
        </div>
    </div>
</div>

<style>
    .quizzes-page {
        padding: 2rem 0;
        background: #f8f9fa;
        min-height: 80vh;
    }

    .page-header {
        text-align: center;
        margin-bottom: 3rem;
    }

    .quiz-meta {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        margin-top: 1rem;
        font-size: 0.875rem;
        color: #6c757d;
    }
</style>
{% endblock %}